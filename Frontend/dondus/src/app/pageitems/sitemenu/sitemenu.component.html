<img class="side-menu-img" src="{{image}}" alt="service image">
<div class="closeBtnContainer">
  <button class="closeSideMenuBtn" (click)="util.closeSidebar()"><mat-icon class="icon">close</mat-icon></button>
</div>

<div class="sidemenuContentContainer">
  <h5 class="card-title">{{ cateory}} <span class="badge badge-secondary">{{ price }}</span></h5>
  <small class="text-muted">{{ title }}</small>
  <p class="card-text">{{description}}</p>

  <p>{{ description }}</p>


<section *ngIf="this.router.url ==='/services'">
  <hr>

  <section *ngIf="!this.util.success; else successMessage">
    <div>
      <h7 style="color: #2e6da4"><b>Schritt 1:</b> Datum auswählen</h7>
      <mat-form-field appearance="fill">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker" (dateChange)="getDate($event)">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>

    <div ><!-- <div *ngIf="dateSelected">-->
      <h7 style="color: #2e6da4"><b>Schritt 2:</b> Zeit auswählen</h7>
      <button id="setTimeBtn" [ngxTimepicker]="timepicker" [format]="24">
        <div *ngIf="this.util.timeSelected; else noTimeSelected">
          {{this.util.timeSelected}}
        </div>
        <mat-icon class="settimeIcon">alarm</mat-icon>
      </button>
      <ngx-material-timepicker #timepicker (timeSet)="getTime($event)" ></ngx-material-timepicker>

      <ng-template #noTimeSelected>
        Set Time
      </ng-template>
    </div>

    <br>
    <h7 style="color: #2e6da4"><b>Schritt 3:</b> Betrag bezahlen</h7>
    <div id="paypalRef"></div>

    <button class="btn btn-success submitBookingBtn" [disabled]="!this.util.timeSelected || !this.util.dateSelected || !this.paymentSuccessfull" (click)="goPaypal()">Buchungsanfrage senden</button>

  </section>
  <!-- SuccessMessage -->
  <ng-template #successMessage>
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Buchungsanfrage erfolgreich abgeschickt</h5>
        <p class="card-text">Deine Buchungsanfrage wird an den Serviceprovider weitergeleitet. Du kannst deinen Termin jederzeit im Kalender einsehen.</p>
        <a href="/calendar" class="btn btn-secondary">Zum Kalender</a>
      </div>
    </div>
  </ng-template>
</section>



</div>







